# 库合约

```js
// library 定义
library Math {
    function max(uint x, uint y) internal pure returns(uint) {
        return x > y ? x : y;
    }
}

contract Cat {
    function utterance() public pure returns (uint) {
        // 库合约调用方式
        return Math.max(1, 2);
    }
}
```

```js
library ArrayLib {
    function find(uint[] storage arr, uint x) internal view returns(uint) {
        for (uint i = 0; i < arr.length; i++) {
            if (arr[i] == x) {
                return i;
            }
        }
        revert('not found!');
    }
}

contract Cat {
    // 推荐使用 using A for B，此时 B 就可以使用 A 中的方法了
    using ArrayLib for uint[];
    uint[] public arr = [1, 2, 3, 0, 4, 9, 12, 8];

    function utterance() public view returns (uint) {
        return arr.find(9);
    }
}
```