<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <canvas id="canvas" width="300" height="300"></canvas>

    <script>
        async function init() {
            if (!navigator.gpu) {
                throw new Error('WebGPU not supported.');

            }
            const adapter = await navigator.gpu.requestAdapter()
            if (!adapter) {
                throw Error("Couldn't request WebGPU adapter.");
            }

            const device = await adapter.requestDevice()

            const adapterInfo = await adapter.requestAdapterInfo();

            const canvas = document.getElementById('canvas');

            const ctx = canvas.getContext('webgpu')

            ctx.configure({
                device,
                format: navigator.gpu.getPreferredCanvasFormat(),
                alphaMode: 'premultiplied'
            })

            console.log({
                adapter,
                device,
                adapterInfo
            })
        }


        init()
    </script>
</body>
</html>